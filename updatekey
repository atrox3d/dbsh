#!/bin/bash

################################################################################
#
#	default args/vars
#
################################################################################
here="$(dirname ${BASH_SOURCE[0]})"
name="$(basename ${BASH_SOURCE[0]})"
. "${here}/.defaults"
################################################################################
#
#	mandatory args
#
################################################################################
[ $# -eq 2 ] || {
	echo "syntax $name key value [ db delim ]"
	exit 1
}
################################################################################
#
#	optional args
#
################################################################################
[ $# -gt 2 ] && db="$3"
[ $# -gt 3 ] && delim="$4"

key="$1"
delim="$(echo -e "$delim")"
newvalue="$2"


"${here}"/deletekey "$key" "$db" "$delim"
"${here}"/addkey "$key" "$newvalue" "$db" "$delim"
